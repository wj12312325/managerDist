(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d2c5114"],{"0162":function(t,e,a){"use strict";a("3606")},"0c8b":function(t,e,a){"use strict";a("632c")},"2eb0":function(t,e,a){"use strict";a("f3e1")},3606:function(t,e,a){},"44fd":function(t,e,a){},"632c":function(t,e,a){},7259:function(t,e,a){"use strict";a("44fd")},"78f1":function(t,e,a){},"8c3d":function(t,e,a){"use strict";a("e61c")},9101:function(t,e,a){"use strict";a("ff54")},9406:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("Card"),a("Sale")],1)},s=[],o=a("5530"),n=a("2f62"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"50px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-card",[a("Detail",{attrs:{title:"商城总销售额(元)",count:"￥ "+this.totalSales.toFixed(2)}},[a("template",{slot:"charts"},[t.orderList.length>0?a("Clock",{attrs:{orderList:t.orderList}}):t._e()],1),a("template",{slot:"footer"},[a("span",[t._v("今日销售额(元)："),a("span",{staticClass:"spanCss"},[t._v("￥"+t._s(t.daySales.toFixed(2)))])])])],2)],1)],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("Detail",{attrs:{title:"订单总数量(个)",count:""+this.orderTotal}},[a("template",{slot:"charts"},[t.orderList.length>0?a("LineChart",{attrs:{orderList:t.orderList}}):t._e()],1),a("template",{slot:"footer"},[a("span",[t._v("今日订单数(个)："),a("span",{staticClass:"spanCss"},[t._v(t._s(t.dayOrderNum))])])])],2)],1)],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("Detail",{attrs:{title:"用户数量(人)",count:""+this.userTotal}},[a("template",{slot:"charts"},[t.userList.length>0?a("BarChart",{attrs:{userList:t.userList}}):t._e()],1),a("template",{slot:"footer"},[a("span",[t._v("商城用户人数(人)："),a("span",{staticClass:"spanCss"},[t._v(t._s(t.userNum))])])])],2)],1)],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("Detail",{attrs:{title:"商城运营利率",count:"68%"}},[a("template",{slot:"charts"},[a("ProgressChart")],1),a("template",{slot:"footer"},[a("span",[t._v("周同比"),a("span",{staticClass:"spanCss"},[t._v("12% ")])]),t._v(" "),a("i",{staticClass:"el-icon-s-flag",staticStyle:{color:"red"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("日同比"),a("span",{staticClass:"spanCss"},[t._v("6% ")])]),t._v(" "),a("i",{staticClass:"el-icon-s-flag",staticStyle:{color:"blue"}})])],2)],1)],1)],1)],1)},c=[],u=a("b85c"),l=a("c7eb"),d=a("1da1"),h=(a("d3b7"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"card-header"},[a("span",[t._v(t._s(t.title))]),a("i",{staticClass:"el-icon-info"})]),a("div",{staticClass:"card-content"},[t._v(t._s(t.count))]),a("div",{staticClass:"card-charts"},[t._t("charts")],2),a("div",{staticClass:"card-footer"},[t._t("footer")],2)])}),f=[],p={name:"Detail",props:["title","count"]},m=p,y=(a("7259"),a("2877")),g=Object(y["a"])(m,h,f,!1,null,"0feb1d86",null),v=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"echarts",staticClass:"charts"})},x=[],O=a("313e"),_={name:"LineChart",props:["orderList"],data:function(){return{orderStatus0Num:0,orderStatus1Num:0,orderStatus2Num:0,orderStatus3Num:0,orderStatus4Num:0,orderStatusArray:[]}},created:function(){this.getOrderInfo()},mounted:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=O["a"](t.$refs.echarts),a.setOption({xAxis:{show:!0,type:"category",data:["未支付","已支付","已发货","已签收","取消"],axisTick:{show:!1}},yAxis:{show:!0,axisTick:{show:!1}},series:[{type:"line",data:t.orderStatusArray,itemStyle:{opacity:0},smooth:!0,lineStyle:{color:"purple"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"purple"},{offset:1,color:"white"}],global:!1}}}],grid:{left:30,top:0,right:10,bottom:0,height:60},tooltip:{}});case 2:case"end":return e.stop()}}),e)})))()},methods:{getOrderInfo:function(){var t,e=Object(u["a"])(this.orderList);try{for(e.s();!(t=e.n()).done;){var a=t.value;switch(a.status){case 0:this.orderStatus0Num++;break;case 1:this.orderStatus1Num++;break;case 2:this.orderStatus2Num++;break;case 3:this.orderStatus3Num++;break;case 4:this.orderStatus4Num++;break}}}catch(r){e.e(r)}finally{e.f()}this.orderStatusArray=[this.orderStatus0Num,this.orderStatus1Num,this.orderStatus2Num,this.orderStatus3Num,this.orderStatus4Num]}}},Y=_,w=(a("8c3d"),Object(y["a"])(Y,b,x,!1,null,"bf34395e",null)),j=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"main"}})},S=[],D={name:"Clock",props:["orderList"],data:function(){return{todaySales:0,yesterdaySales:0,beforeYesterdaySales:0,orderArray:[]}},created:function(){this.getOrderInfo()},mounted:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){var a,r,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=document.getElementById("main"),r=O["a"](a),s={yAxis:{type:"category",data:["今天","昨天","前天"],axisTick:{show:!1}},xAxis:{type:"value",show:!0,axisTick:{show:!1}},series:[{data:t.orderArray,type:"bar",itemStyle:{color:function(t){var e=["#ce5a57","#78a5a3","#e1b16a"];return e[t.dataIndex]}}}],grid:{left:35,top:0,right:10,bottom:0,height:60}},s&&r.setOption(s);case 4:case"end":return e.stop()}}),e)})))()},methods:{getOrderInfo:function(){var t=Date.now(),e=new Date;e.setDate(e.getDate()-1);var a=new Date;a.setDate(a.getDate()-2);var r,s=Object(u["a"])(this.orderList);try{for(s.s();!(r=s.n()).done;){var o=r.value;0!=o.status&&4!=o.status&&(this.totalSales+=1*o.total,this.dayjs(o.createdAt).format("YYYY-MM-DD")==this.dayjs(t).format("YYYY-MM-DD")&&(this.todaySales+=1*o.total),this.dayjs(o.createdAt).format("YYYY-MM-DD")==this.dayjs(e).format("YYYY-MM-DD")&&(this.yesterdaySales+=1*o.total),this.dayjs(o.createdAt).format("YYYY-MM-DD")==this.dayjs(a).format("YYYY-MM-DD")&&(this.beforeYesterdaySales+=1*o.total))}}catch(n){s.e(n)}finally{s.f()}this.orderArray=[this.todaySales,this.yesterdaySales,this.beforeYesterdaySales]}}},L=D,A=Object(y["a"])(L,C,S,!1,null,"661040ac",null),k=A.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"echarts",staticClass:"charts"})},N=[],$={name:"BarChart",data:function(){return{userArray:[],user1:0,user2:0,user3:0}},props:["userList"],created:function(){this.getUserInfo()},mounted:function(){var t=O["a"](this.$refs.echarts);t.setOption({xAxis:{show:!0,type:"category",data:["用户","商家","管理员"],axisTick:{show:!1}},yAxis:{show:!0,axisTick:{show:!1}},series:[{type:"bar",data:this.userArray}],grid:{left:40,top:5,right:20,bottom:20},tooltip:{}})},methods:{getUserInfo:function(){var t=this;this.userList.forEach((function(e){0==e.role?t.user1++:1==e.role?t.user2++:t.user3++})),this.userArray=[this.user1,this.user2,this.user3]}}},I=$,E=(a("d35c"),Object(y["a"])(I,M,N,!1,null,"8f340fac",null)),T=E.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"echarts",staticClass:"charts"})},B=[],G={name:"ProgressChart",mounted:function(){var t=O["a"](this.$refs.echarts);t.setOption({xAxis:{show:!1,min:0,max:100},yAxis:{show:!1,type:"category"},series:[{type:"bar",data:[78],barWidth:10,color:"yellowgreen",showBackground:!0,backgroundStyle:{color:"#eee"},label:{show:!0,formatter:"|",position:"right"}}],grid:{left:0,top:0,right:0,bottom:0},tooltip:{}})}},U=G,z=(a("0162"),Object(y["a"])(U,W,B,!1,null,"eaee22cc",null)),P=z.exports,F={name:"Card",components:{Detail:v,LineChart:j,BarChart:T,ProgressChart:P,Clock:k},data:function(){return{totalSales:0,daySales:0,dayOrderNum:0,userNum:0}},methods:{getOrderList:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={pageSize:1e5,pageNum:1},e.prev=1,e.next=4,t.$store.dispatch("order/getOrderList",a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),t.$message({type:"error",message:e.t0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},getOrderInfo:function(){var t,e=Date.now(),a=Object(u["a"])(this.orderList);try{for(a.s();!(t=a.n()).done;){var r=t.value;0!=r.status&&4!=r.status&&(this.totalSales+=1*r.total,this.dayjs(r.createdAt).format("YYYY-MM-DD")==this.dayjs(e).format("YYYY-MM-DD")&&(this.daySales+=1*r.total,this.dayOrderNum++))}}catch(s){a.e(s)}finally{a.f()}},getUserList:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={pageSize:1e5,pageNum:1},e.prev=1,e.next=4,t.$store.dispatch("user/getUserList",a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),t.$message({type:"error",message:e.t0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},getuserInfo:function(){var t=this;this.userList.forEach((function(e){0==e.role&&t.userNum++}))}},mounted:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getOrderList();case 2:return e.next=4,t.getUserList();case 4:t.getOrderInfo(),t.getuserInfo();case 6:case"end":return e.stop()}}),e)})))()},computed:Object(o["a"])({},Object(n["c"])({orderList:function(t){return t.order.orderList},orderTotal:function(t){return t.order.total},userList:function(t){return t.user.userList},userTotal:function(t){return t.user.total}}))},J=F,R=(a("2eb0"),Object(y["a"])(J,i,c,!1,null,"46663156",null)),q=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{sytle:"margin:10px 0 "}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{staticClass:"tab",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"商品库存",name:"num"}}),a("el-tab-pane",{attrs:{label:"商品单价",name:"price"}})],1),a("div",{staticClass:"right"},[a("span",{on:{click:t.setDay}},[t._v("今日")]),a("span",{on:{click:t.setWeek}},[t._v("本周")]),a("span",{on:{click:t.setMonth}},[t._v("本月")]),a("span",{on:{click:t.setYear}},[t._v("今年")]),a("el-date-picker",{staticStyle:{width:"250px",margin:"0 20px"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini","value-format":"yyyy-MM-dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("div",[a("el-row",[a("el-col",{attrs:{span:17}},[a("div",{ref:"chart",staticClass:"chart"})]),a("el-col",{attrs:{span:7}},[t.category1List.length>0?a("Category",{attrs:{category1List:t.category1List}}):t._e()],1)],1)],1)])},K=[],Q=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("div",{staticClass:"header"},[a("span",[t._v("商品分类占比")])]),a("div",[a("div",{ref:"echart",staticClass:"echart"})])])],1)}),V=[],X=(a("b0c0"),{name:"Category",props:["category1List"],data:function(){return{categoryArray:[]}},created:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getCategoryInfo();case 1:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=O["a"](this.$refs.echart);t.setOption({title:{text:this.categoryArray[0].name,subtext:this.categoryArray[0].value,left:"center",top:"center"},tooltip:{trigger:"item"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"outside"},labelLine:{show:!0},data:this.categoryArray}]}),t.on("mouseover",(function(e){var a=e.data,r=a.value,s=a.name;t.setOption({title:{text:s,subtext:r}})}))},methods:{getCategoryInfo:function(){var t=this;this.category1List.forEach((function(e){var a={value:e.secondaryCategory.length,name:e.category_name};t.categoryArray.push(a)}))}}}),Z=X,tt=(a("f517"),Object(y["a"])(Z,Q,V,!1,null,"7f6bbf41",null)),et=tt.exports,at=a("5a0c"),rt=a.n(at),st={name:"Sale",components:{Category:et},data:function(){return{activeName:"num",echarts:null,goods_nameArray:[],goods_numArray:[],goods_priceArray:[],date:[]}},created:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getGoodsList();case 2:return e.next=4,t.getCategoryList();case 4:t.getGoodsInfo();case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){this.echarts=O["a"](this.$refs.chart),this.echarts.setOption({title:{text:"商品库存"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.goods_nameArray,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"Direct",type:"bar",barWidth:"50%",data:this.goods_numArray}]})},computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])({goodsList:function(t){return t.goods.goodsList},category1List:function(t){return t.category.category1List||[]}})),{},{title:function(){return"num"==this.activeName?"商品库存":"商品单价"}}),watch:{title:function(){this.echarts.setOption({title:{text:this.title},xAxis:[{data:this.goods_nameArray}],series:[{name:"Direct",type:"bar",barWidth:"50%",data:"商品库存"==this.title?this.goods_numArray:this.goods_priceArray}]})},goods_numArray:function(){this.echarts.setOption({xAxis:[{data:this.goods_nameArray}],series:[{name:"Direct",type:"bar",barWidth:"50%",data:this.goods_numArray}]})}},methods:{setDay:function(){var t=rt()().format("YYYY-MM-DD");this.date=[t,t]},setWeek:function(){var t=rt()().day(1).format("YYYY-MM-DD"),e=rt()().day(7).format("YYYY-MM-DD");this.date=[t,e]},setMonth:function(){var t=rt()().startOf("month").format("YYYY-MM-DD"),e=rt()().endOf("month").format("YYYY-MM-DD");this.date=[t,e]},setYear:function(){var t=rt()().startOf("year").format("YYYY-MM-DD"),e=rt()().endOf("year").format("YYYY-MM-DD");this.date=[t,e]},getGoodsList:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={pageSize:12,pageNum:1},e.prev=1,e.next=4,t.$store.dispatch("goods/getGoodsList",a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),t.$message({type:"error",message:e.t0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},getGoodsInfo:function(){var t=this;this.goodsList.forEach((function(e){t.goods_nameArray.push(e.goods_name.slice(0,5)),t.goods_numArray.push(e.goods_num),t.goods_priceArray.push(1*e.goods_price)}))},getCategoryList:function(){var t=this;return Object(d["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("category/getCategoryList");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),t.$message({type:"error",message:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}}},ot=st,nt=(a("9101"),Object(y["a"])(ot,H,K,!1,null,"727fe36e",null)),it=nt.exports,ct={name:"Dashboard",components:{Card:q,Sale:it},computed:Object(o["a"])({},Object(n["b"])(["name"]))},ut=ct,lt=(a("0c8b"),Object(y["a"])(ut,r,s,!1,null,"21aae7b8",null));e["default"]=lt.exports},d35c:function(t,e,a){"use strict";a("78f1")},e61c:function(t,e,a){},e9a7:function(t,e,a){},f3e1:function(t,e,a){},f517:function(t,e,a){"use strict";a("e9a7")},ff54:function(t,e,a){}}]);